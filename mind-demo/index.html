<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mind</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="app">
        <!-- Sidebar Overlay (Mobile) -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-resize-handle" id="sidebarResizeHandle"></div>
            
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon"><i class="ph ph-brain"></i></div>
                    <span>Mind</span>
                </div>
            </div>

            <div class="sidebar-search">
                <input type="text" class="search-input" id="searchInput" placeholder="Search notes...">
                <div class="search-results" id="searchResults"></div>
            </div>

            <div class="sidebar-content">
                <div class="sidebar-section" id="clippedSectionContainer" style="display: none;">
                    <div class="section-header" data-section="clipped">
                        <span>Clipped Pages</span>
                        <span class="section-toggle">▼</span>
                    </div>
                    <div class="section-content" id="clippedSection">
                        <ul class="bookmark-list" id="clippedList"></ul>
                    </div>
                </div>

                <div class="sidebar-section" id="favoritesSectionContainer" style="display: none;">
                    <div class="section-header" data-section="favorites">
                        <span>Favorites</span>
                        <span class="section-toggle">▼</span>
                    </div>
                    <div class="section-content" id="favoritesSection">
                        <ul class="folder-tree" id="favoritesTree"></ul>
                    </div>
                </div>

                <div class="sidebar-section">
                    <div class="section-header" data-section="folders">
                        <span>Folders</span>
                        <div class="section-actions">
                            <button class="section-action-btn add-folder" id="addFolderBtn" title="Add new folder">+</button>
                            <span class="section-toggle">▼</span>
                        </div>
                    </div>
                    <div class="section-content" id="foldersSection">
                        <ul class="folder-tree" id="folderTree"></ul>
                    </div>
                </div>

                <div class="sidebar-section">
                    <div class="section-header" data-section="tags">
                        <span>Tags</span>
                        <span class="section-toggle">▼</span>
                    </div>
                    <div class="section-content" id="tagsSection">
                        <div class="tags-search">
                            <input type="text" class="tags-search-input" id="tagsSearch" placeholder="Search tags...">
                        </div>
                        <div class="tags-alphabetical" id="tagsAlphabetical"></div>
                    </div>
                </div>
            </div>

            <div class="sidebar-actions">
                <button class="btn btn-secondary btn-icon" id="settingsBtn" title="Settings">
                    <i class="ph ph-gear"></i>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main" id="main">
            <header class="main-header">
                <div class="header-left">
                    <button class="btn btn-icon hide-desktop" id="menuBtn" title="Menu"><i class="ph ph-list"></i></button>
                    <div class="breadcrumb" id="breadcrumb">
                        <span class="breadcrumb-item" data-folder="root">All Notes</span>
                    </div>
                </div>
                <div class="header-right">
                    <span class="header-title" id="headerTitle"></span>
                    <button class="btn btn-icon" id="themeBtn" title="Toggle Theme"><i class="ph ph-moon"></i></button>
                </div>
            </header>

            <div class="editor-container" id="editorContainer">
                <div class="empty-state" id="emptyState">
                    <div class="empty-state-icon"><i class="ph ph-brain ph-xl"></i></div>
                    <div class="empty-state-title">Welcome to Mind</div>
                    <div class="empty-state-desc">Your private, offline knowledge management system. Create your first note to get started.</div>
                    <button class="btn btn-primary" id="emptyNewNoteBtn"><i class="ph ph-plus"></i> Create First Note</button>
                </div>

                <div class="tabs-bar hidden" id="tabsBar">
                    <div class="sidebar-toggle-tab" id="sidebarToggleTab" title="Toggle Sidebar"><i class="ph ph-sidebar"></i></div>
                    <div class="tabs-container" id="tabsContainer"></div>
                    <button class="tabs-new-btn" id="newTabBtn" title="New Note"><i class="ph ph-plus"></i></button>
                    <div style="flex: 1;"></div>
                    <button class="toolbar-btn" id="moreBtn" title="More"><i class="ph ph-dots-three"></i></button>
                </div>

                <div class="editor-content-wrapper hidden" id="editorContentWrapper">
                    <div class="editor-content">
                        <input type="text" class="note-title-input" id="noteTitle" placeholder="Note Title">
                        <div class="note-meta">
                            <div class="note-meta-item"><i class="ph ph-calendar-blank"></i> <span id="noteDate">Created today</span></div>
                            <div class="note-meta-item">
                                <i class="ph ph-tag"></i>
                                <div class="note-tags-input" id="noteTagsInput">
                                    <input type="text" class="tag-input" id="tagInput" placeholder="Add tag...">
                                    <div class="tag-autocomplete" id="tagAutocomplete" style="display: none;"></div>
                                </div>
                                <button class="btn btn-secondary" id="suggestTagsBtn" title="AI Suggest Tags"><i class="ph ph-sparkle"></i> AI Tags</button>
                            </div>
                        </div>
                        
                        <div class="note-tabs">
                            <button class="note-tab active" data-tab="note">Note</button>
                            <button class="note-tab" data-tab="summary">Summary</button>
                            <button class="note-tab" data-tab="tasks">Tasks</button>
                        </div>
                        
                        <div class="note-tab-content" id="noteTabContent">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                <select id="templateSelect">
                                    <option value="">Template</option>
                                    <option value="save-current">+ Save as Template</option>
                                </select>
                            </div>
                            <div class="wysiwyg-editor" id="wysiwygEditor" contenteditable="true"></div>
                        </div>
                        
                        <div class="note-tab-content" id="summaryTabContent" style="display: none;">
                            <button class="btn btn-secondary" id="summarizeBtn"><i class="ph ph-sparkle"></i> AI Summary</button>
                            <div id="summaryContent"></div>
                        </div>
                        
                        <div class="note-tab-content" id="tasksTabContent" style="display: none;">
                            <div id="tasksList"></div>
                            <button class="btn btn-secondary" id="addFirstTaskBtn"><i class="ph ph-plus"></i> Add Task</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    
    <script src="js/app.js"></script>
</body>
</html>